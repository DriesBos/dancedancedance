html, body
  position: relative
  width: 100%
  min-height: 100%
  
body
  background: var(--theme-bg)
  color: var(--theme-type)
  display: flex
  justify-content: center
  align-items: flex-start
  padding: 0
  transition: padding-top 1s ease, padding-bottom 1s ease, color 1s ease, background 1s ease
  will-change: padding-top, padding-bottom, color, background
  main
    position: relative
    display: flex
    flex-direction: column
    width: 100%
    height: auto
    height: calc-size(auto)
    max-width: 100%
    max-height: auto
    max-height: calc-size(auto)
    border: 0 solid var(--theme-type) 
    background: var(--theme-container)
    backdrop-filter: none
    border-radius: 0
    aspect-ratio: auto
    transition: border 1s ease, border-radius 1s ease, width 1s ease, max-width, height 1s ease, max-height 1s ease, 1s ease, color 1s ease, transform 1s ease, background 1s ease, backdrop-filter 1s ease, aspect-ratio 1s ease
    will-change: border, border-radius, width, max-width, height, max-height, transform, color, transform, background, backdrop-filter, aspect-ratio
    transform-style: preserve-3d
    & > .blok
      margin-top: -2px

.themeBackground
  position: fixed
  width: 100%
  height: 100vh
  top: 0
  left: 0
  opacity: 0
  transition: opacity 1s ease
  will-change: opacity
  img
    width: 100%
    height: 100%
    object-fit: cover
    object-position: center
  
.introText
  position: fixed
  top: 0
  left: 0
  z-index: -1
  margin: 5vmin
  max-width: 80em
  opacity: 0
  transition: color 1s ease, opacity 1s ease
  will-change: color, opacity
  h1
    font-size: 4vw
    line-height: 1

.side 
  position: absolute
  left: 0
  top: 0
  width: 100%
  height: 100%
  border: var(--border-width) solid var(--theme-type)
  background: var(--theme-blok)
  backdrop-filter: none
  opacity: 0
  transition: background 1s ease, border 1s ease, color 1s ease, backdrop-filter 1s ease, opacity 1s ease
  will-change: background, border, color, backdrop-filter, opacity
  pointer-events: none
  &_Top
    left: calc(0px - #{var(--border-width)})
    top: calc(0px - #{var(--border-width)})
    height: 700px
    width: calc(100% + 2 * #{var(--border-width)})
    transform: rotateX(90deg) rotateY(0deg) translateY(-700px) 
    transform-origin: 0 0

.blok
  position: sticky
  top: 0
  display: flex
  flex-direction: column
  border-top: var(--border-width) solid var(--theme-type)
  border-left: var(--border-width) solid var(--theme-type)
  border-right: var(--border-width) solid var(--theme-type)
  background: var(--theme-blok)
  transition: border 1s ease, background 1s ease, color 1s ease
  will-change: border, background, color, opacity
  opacity: 0
  transform-style: preserve-3d
  perspective: 3000px
  perspective-origin: 0 0
  &.inactive
    display: none

  .row
    display: flex
    flex-direction: row
    row-wrap: nowrap

    .column
      flex: 1
      text-align: left
      padding: var(--blok-padding)
      &[data-inactive='true']
        color: var(--theme-type-inactive)
        transition: color 1s ease
        will-change: color
      &-Empty
        @media (max-width: 800px)
          display: none
      &-Text
        --var: 0%
        min-width: 0 // Ellipsis hack
        a
          position: relative
          white-space: nowrap
          &::before
            content: ''
            position: absolute
            left: 0
            display: inline-block
            bottom: calc(0px - (#{var(--border-width)} / 2))
            top: 0
            width: var(--var)
            z-index: 0
            border-bottom: var(--border-width) solid var(--theme-type)
            will-change: width, border-bottom
          &:hover
            &::before
              @media ( hover: hover )
                animation: hyperHyperLink .66s ease
                animation-iteration-count: 1
      &-Image
        padding: 0
        img, video
          width: 100%
          height: auto
          height: calc-size(auto)
      &-Year
        flex-grow: 0
      &-Icons
        display: flex
        justify-content: flex-end
        align-items: center
        & > div 
          margin: 0 12.5px
          &:first-child
            margin-left: 0
          &:last-child
            margin-right: 0

  // Specific Bloks
  &-Head
    border: var(--border-width) solid var(--theme-type)
    .column 
      &-Title
        flex-grow: 1
        @media (max-width: 800px)
          & > a:nth-child(2)
            display: none
      &-Icons
        user-select: none
  &-Filter
    transition: padding-top 1s ease
    padding-top: var(--top-padding-filter)
    .column
      &-Icons
        flex-grow: 1
    @media (max-width: 800px)
      .column:nth-child(n+3):not(.column-Icons)
        display: none
  &-Project
    background: var(--theme-blok-project)
    border-top: 0
    .row
      border-top: var(--border-width) solid var(--theme-type)
      transition: transform 1s
      background: var(--theme-blok-project)
    &:hover
      .row
        transform: translateY(calc(0px - (#{var(--row-height)} / 2))) !important
        transition: transform var(--transition-project-hover)
    .column
      &-Icons
        flex-grow: 1
    @media (max-width: 800px)
      .column:nth-child(n+3):not(.column-Icons)
        display: none 
  &-Footer
    border-bottom: var(--border-width) solid var(--theme-type)

.icon
  position: relative
  width: 25px
  height: 25px
  svg
    position: absolute
    top: 0
    left: 0
    height: 100%
    width: 100%
  &-Wide
    width: 50px
  &-High
    height: 50px
  &-Rotate
    transform: rotate(180deg)
  &-Footer
    cursor: pointer

// Specific Elements
.storeSwitcher
  position: fixed
  top: 1rem
  right: 5rem
  display: flex
  align-items: center
  gap: .5rem
  z-index: 999
  pointer-events: auto
  & > div
    cursor: pointer
    padding: 4px 11px
    font-size: 11px
    border: var(--border-width) solid var(--theme-type)
    transition: border 1s ease, color 1s ease
    will-change: border, color
    border-radius: 1000px

.laserBlok
  position: fixed
  left: 0
  top: 0
  right: 0
  bottom: 0
  opacity: 0
  will-change: opacity
  pointer-events: none
  &-Line
    position: absolute
    top: 50%
    left: 50%
    width: 0
    height: 0
    opacity: 0
    transform: translate(-50%, -50%)
    will-change: width, height, opacity
    border: var(--border-width) solid var(--theme-type)

  // Themes
body
  &[data-theme="BASIC"]
    .themeBackground
      opacity: 0
    main, .side
      backdrop-filter: blur(100px)
    .introText
      opacity: 1
  &[data-theme="NIGHTMODE"]
    .themeBackground
      opacity: 0
    .blok-Project
      .imageContainer
        background: var(--theme-type)
        img
          filter: grayscale(100%)
          opacity: 0.75
  &[data-theme="IMAGE"]
    .themeBackground
      opacity: 1
  &[data-theme="TRON"]
    .themeBackground
      opacity: 0
  &[data-theme="GRADIENT"]
    .themeBackground
      opacity: 0
    main, .side
      backdrop-filter: blur(100px)
    .introText
      opacity: 1

// Spaces
body
  // OMNI
  main
    & > .blok:nth-child(2) 
      z-index: -1
  // 2D
  &[data-space="2D"]
    padding: 0
    main
      max-width: 100%
      min-height: 100vh
    .introText
      opacity: 0
    .blok
      border-left: 0
      border-right: 0
      &-Footer
        flex-grow: 1
        justify-content: flex-end
        border-bottom: 0
      &-Head
        border: 0
      &-Filter
        border-top: 0
  // 3D
  &[data-space="3D"]
    padding-top: calc(15rem + 10vmin)
    padding-bottom: 6rem
    .laserBlok
      opacity: 1
    main
      width: 88vw
      max-width: 1150px
      & > .blok
        perspective-origin: 50% -1000px
      & > .blok:first-child, & > .blok:nth-child(2) 
        .side
          opacity: 1
  // PHONE
  &[data-space="PHONE"]
    height: 100vh
    align-items: center
    main
      flex-grow: 1
      max-width: 393px
      max-height: 852px
      border: 6px solid var(--theme-type)
      border-radius: 36px
      aspect-ratio: 9 / 19.5
      overflow: hidden
    .introText
      opacity: 0
    .blok
      border-left: 0
      border-right: 0
      &-Footer
        border-bottom: 0
      &-Head
        border: 0
        .column-Title
          & > a:nth-child(2)
            display: none
      &-Filter
        border-top: 0
        .column:nth-child(n+3):not(.column-Icons)
          display: none 
      &-Project
        .column:nth-child(n+3):not(.column-Icons)
          display: none 
      .column
        &-Empty
          display: none

@keyframes hyperLink
  0%
    width: 0%
  100%
    width: 100%

@keyframes hyperHyperLink
  0%
    width: 100%
    left: auto
    right: 0
  50%
    width: 0%
    left: auto
    right: 0
  51%
    width: 0%
    left: 0
    right: auto
  100%
    left: 0
    right: auto
    width: 100%